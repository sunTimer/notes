#
# `日报`

# 第十二周
- 提测
    - 专线探测平等计划 
    - 单条专线告警
- 限流上线
- 智能IDC开发 本周一定要出初版
## 7.3 
- 专线告警-提测 
- 报文版本升级
- 上午休息
## 7.2
- 平等计划专线探测-提工单
- 限流脚本执行
- 限流http接口改造接口改造
- 渠道前置上线
# 第十一周
—
## 本周计划
- 专线探测：主备库切换任务感知
- basedata：单条专线配置告警
- 智能idc开发完成第一版开发
- 限流模块接入发布平台

## 6.26
- 专线主备库切换

## 6.25
- 专线告警开发


---
# 第十周
## 6.22
- 专线探测平等计划开发
- 智能idc
`
## 6.21
- 智能IDC的开发
- 限流迁移机器服务恢复
- 压测限流配置检查
- 限流上线学习
- 发布平台接入
## 6.20
- 根据机构-机房-业务维度 只配置一根专线的相关信息`
- 昨天发现的问题：
    - 专线探测再调用basedata接口的时候，日志跟踪号没有传过去，造成
    - 
- 总结:
要有长远的考虑，要对多个系统都要了解。不能仅仅对自己负责的系统了解，而对其他一知半解，这样自己的路子只会越走越窄。
遇到问题，多自己思考，不要一下就把问题抛给别人，为什么别人带着你能很快解决问题。是不是让自己陷入了一个死胡同。要灵活思考
- 限流：黑白名单，考虑这样的场景：匹配到后台配置的，拒绝请求
## 6.19
## 本周计划
- 跟运营配合统计只配一根专线的银行
- 交易路由问题思考
- 智能IDC模块开发
- 跟运营讨论：之配一根专线加校验需求
- 专线探测：一直没搞懂两个表的关系：`t_m_chn_route_info`和`t_m_chn_route_info_history`
前者保存的是当前生效的配置参数，后者保存的是一个快照，即，在运营或者自动路由对配置进行修改的时候，会将修改之前的配置数据插入到历史表一份。

# 第九周
## 6.15
- 交通银行问题确定
## 6.14
- 生产验证、vpn值班
## 6.13
- 限流新功能提变更单
- 智能idc开发、设计文档
## 6.12
- 流控机器迁移
- 智能idc详细设计
- 
## 6.11
- 周四生产验证
- 智能idc
# `第八周`
## 6.7
- 值班
    - 生产验收


## `6.6`
- 智能idc框架搭建
- 员工大会
- 6.8演练统计脚本执行
- 专线探测任务恢复调用basedata接口次数统计
## `6.5`
- 智能idc项目结构设计
- 6.8上海21机房路由故障演练准备：
    - 演练过程智能路由需要准备的内容，和强哥确认:
        - 智能路由改为`run`模式
        - 选择21机房的交通银行：5.1.29.1专线作为测试专线
        - 到时候只需要查看日志即可，查看是否match，是否为run模式，是否调用basedata接口调整权重权重成功
        - 可第二天再查看
    - 学习如何利用kibana采集失败交易笔数
    - 如何统计专线被切断时间、专线首次恢复时间
    - 专线业务切换时间点、回切时间点


## `6.4`
- proxy遗漏机器添加监控
- kibana 日志采集
- 智能路由执行逻辑追踪，和强哥讨论智能idc项目，搭建基本框架
- 查看限流error日志是否正常打印
- 6.8上海21机房路由故障演练 演练前会议

# 第七周
## 6.1
 
### 专线探测： 
`分享会 提出的问题`
- 打印日志：拉了多少条数据
- 探测结果保存到数组的时候会有线程安全问题
- 探测任务状态机，
    - 探测通的放在一个任务队列
    - 探测一次不通的放在一个任务队列
    - 两次不通的放在另一个队列
    - 状态转移
- 探测透明:
    - 当前探测了多少条
    - 成功探测了多少条
    - 失败探测了多少条
    - 超时了多少条
- telnet协议是否有其他替代品
    - ping
    - 负载设备、处理的机制
    - ssl，
- 机构专线探测任务，下一期加上
- 状态机，准备搞！
- 分批探测
    - 任务1探测前一百条
    - 任务2探测接下来100条
    - 。。。
- 探测结果标注
    - 某条专线探测之后，进行标注已经探测

## 5.31
- 智能idc和路由熟悉
- 连接超时监控方案(eg: redis连接超时)
- 限流执行情况统计

## 5.30
- zabbix监控配置(王双刚把脚本刷好)（done）
- 跟进智能模块
- 智能idc方案讨论：一期只做踢idc，在idc系统成功率低于阈值的时候

## 5.29
- 监控配置跟进
- 提测跟进 提供提测相关的接口文档、需求文档，如果全新项目需要提供设计文档
- 智能模块跟进

## 5.28
- 限流机器监控添加
- 限流代码评审、提测（提测的代码）
- 智能idc模块跟进

---
# 第六周
## 5.22
- 限流：
    - 兼容已上线的逻辑功能
    - 设置限流指令强校验

## 5.21
- 影子压测配合
- 限流服务：第六批次机器下线
- 限流代码评审问题修复



## 5.18
- 限流代码评审问题解决


## 5.17
- 限流新字段添加代码评审
- `gitlab`支持`doc`在线预览调研
- 专线探测文档补齐
- 熟悉决策和策略模块

## 5.16
- 专线探测分享内容准备
- 专线探测接口文档书写

## 5.15

今天中午，我们隔壁组A和我的对话:
A:你女朋友挺漂亮啊
我：啊？。。。
A:运营的吧？
我：啥？？？。。。
A:......
那是因为在他们心中：有一个if else判断：
```java
if （是妹子）{
    if (好看){
        运营的
    }else{
        技术的
    }
}else{
    pass
}
```
## 5.14
- 项目文档上传执行（`@所有人`）：
    - 文档管理`gitlab`地址`:172.16.11.36:8081/channel_team/project-impl`
    - 以自己负责的模块名称在`project-impl`下建立相应目录，如限流为`rate-limiting`，然后将所有文档在对应的目录下面进行维护
    - 之前已有的文档可以直接上传，日后新增的建议使用`markdown`进行文档书
    写
    - 周五统计文档维护进度，希望大家积极维护
- 阅读专线探测代码
- 下午：入职培训
## 5.10
- 限流模块提测，和二维码进行联调


## 5.9
- 限流模块单测
- 梳理专线探测模块代码

## 5.7
- 限流新字段(requestSystem)添加
- 专线探测业务梳理，准备分享

## 5.2
熟悉智能路由

## 4.27
限流模块开发

## 4.26
1、对之前配置的告警监控进行核对
2、文档管理新人文档补充、具体职责梳理

## 4.25

1、文档管理相关内容梳理
2、限流隔离请求设计开发

## 4.16

1、入职流程完成、熟悉公司内部环境和oa系统
2、开始搭建开发环境（正在进行）
3、阅读相关业务文档（正在进行）

## 4.17

1、完成基本开发环境搭建
2、阅读文档，熟悉报文技术规范

## 4.18

1、详读限流模块代码，针对不同系统发过来的限流请求，思考请求隔离方案
2、熟悉自助平台问题解决过程

## 4.20

1、完全理解限流模块
2、配合解决自助平台问题
2、熟悉告警监控配置
3、一周总结

## 4.21

今日计划：
1、阅读清算平台系统架构评估文档
2、阅读网联平台全业务文档

## 4.23

1、阅读支付机构连接平台以及数据完全规范文档
2、针对文档中出现的不熟悉的技术点进行补齐
3、协助解决自助平台问题

## 4.24

1、文档管理 gitlab搭建完成


## gitlab问题：
1、502问题 ：首先判断是否是端口冲突，其次更改time_out时间
2、
